<ngx-loading [show]="loading"></ngx-loading>
<div class="login-wrapper">
  <!-- login wrapper -->
  <div *ngIf="initialButton">
    <div class="login-signup-text">
      <a
        style="
          color: #63c7db;
          border-bottom: 3px solid;
          text-decoration: none;
          cursor: pointer;
        "
        (click)="login()"
      >
        Login
      </a>
      <a (click)="register()" routerLinkActive="active">Sign Up</a>
    </div>
  </div>
  <div *ngIf="!initialButton">
    <div class="login-signup-text">
      <a (click)="login()"> Login</a>
      <a (click)="register()" routerLinkActive="active">Sign Up</a>
    </div>
  </div>
  <div class="login-form-wrapper">
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
      <div>
        <input
          type="email"
          formControlName="userId"
          style="text-transform: lowercase"
          placeholder="Email"
          class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f.userId.errors }"
        />
        <div *ngIf="submitted && f.userId.errors" class="invalid-feedback">
          <div *ngIf="f.userId.errors.required">Email is required</div>
          <div *ngIf="f.userId.errors.pattern">
            Please enter valid email (xyz@abc.com)
          </div>
        </div>
      </div>
      <div class="padding-top-20">
        <input
          type="password"
          formControlName="password"
          placeholder="Password"
          class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f.password.errors }"
          [type]="hide1 ? 'password' : 'text'"
        />
        <mat-icon class="eye" matSuffix (click)="hide1 = !hide1">
          {{ hide1 ? "visibility_off" : "visibility" }}
        </mat-icon>
        <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
          <div *ngIf="f.password.errors.required">Password is required</div>
        </div>
      </div>
      <div
        class="d-flex justify-content-between forgot-wrapper flex-wrap"
        style="margin-top: 2vh"
      >
        <mat-checkbox>Remember me</mat-checkbox>
        <div>
          <p style="color: red" (click)="openDialog()" class="cursor-pointer">
            Forgot Password?
          </p>
        </div>
      </div>
      <div class="text-center button-wrapper">
        <button type="submit" class="custom-button">Login</button>
      </div>
    </form>
  </div>
</div>
